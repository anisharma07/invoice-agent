# InvoiceAI Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE (Browser)                         â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      Files Page                                 â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  [ğŸ“ Files]  [âš™ï¸ Settings]  [ğŸŒ™ Theme]  [âœ¨ AI Invoice]        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚                                     â”‚
â”‚                                   â”‚ Click AI Button                     â”‚
â”‚                                   â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    InvoiceAI Page                               â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚                      â”‚  â”‚   ChatSidebar Component       â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   SocialCalc         â”‚  â”‚                               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   Spreadsheet        â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   Renderer           â”‚  â”‚  â”‚  Token Counter          â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                      â”‚  â”‚  â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 45%       â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ A1: Invoice    â”‚  â”‚  â”‚                               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ B1: $1000      â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ C1: Item       â”‚  â”‚  â”‚  â”‚ Message History         â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚ â€¢ User: Create invoice  â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                      â”‚  â”‚  â”‚ â€¢ AI: I've created...   â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   â”‚
â”‚  â”‚                             â”‚                               â”‚  â”‚   â”‚
â”‚  â”‚                             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚   â”‚
â”‚  â”‚                             â”‚  â”‚ [Type message...    ] ğŸ“¤â”‚  â”‚  â”‚   â”‚
â”‚  â”‚                             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   â”‚
â”‚  â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ API Calls (HTTP)
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FRONTEND SERVICE LAYER                            â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    aiService.ts                                 â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â€¢ generateInvoice(prompt, sessionId?)                         â”‚   â”‚
â”‚  â”‚  â€¢ sendChatMessage(sessionId, message)                         â”‚   â”‚
â”‚  â”‚  â€¢ getSessionInfo(sessionId)                                   â”‚   â”‚
â”‚  â”‚  â€¢ deleteSession(sessionId)                                    â”‚   â”‚
â”‚  â”‚  â€¢ checkHealth()                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ HTTP/JSON
                                   â”‚ (VITE_API_BASE_URL)
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     BACKEND API (Dockerized)                             â”‚
â”‚                         Port: 8000                                       â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    FastAPI Routes                               â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  POST   /api/generate-invoice                                  â”‚   â”‚
â”‚  â”‚  POST   /api/chat                                              â”‚   â”‚
â”‚  â”‚  GET    /api/session/{id}                                      â”‚   â”‚
â”‚  â”‚  DELETE /api/session/{id}                                      â”‚   â”‚
â”‚  â”‚  GET    /api/health                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚                                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                    â”‚                              â”‚                     â”‚
â”‚                    â–¼                              â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Session Management       â”‚   â”‚    AI Agent Layer          â”‚     â”‚
â”‚  â”‚                            â”‚   â”‚                            â”‚     â”‚
â”‚  â”‚  â€¢ RedisSessionManager     â”‚   â”‚  â€¢ InvoiceAgent            â”‚     â”‚
â”‚  â”‚  â€¢ Session Storage         â”‚   â”‚  â€¢ Prompt Building         â”‚     â”‚
â”‚  â”‚  â€¢ Token Counting          â”‚   â”‚  â€¢ MSC Generation          â”‚     â”‚
â”‚  â”‚  â€¢ 24hr Expiry             â”‚   â”‚  â€¢ Response Parsing        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                  â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â”‚
                                                   â”‚ LangChain
                                                   â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚    AWS Bedrock           â”‚
                                    â”‚                          â”‚
                                    â”‚    Claude Sonnet 4       â”‚
                                    â”‚    (AI Model)            â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Sequence

```
User Types Prompt
      â”‚
      â–¼
Initial Prompt Modal (InvoiceAIPage)
      â”‚
      â–¼
aiService.generateInvoice("Create invoice...")
      â”‚
      â–¼
POST /api/generate-invoice
      â”‚
      â–¼
Backend validates & creates session
      â”‚
      â–¼
InvoiceAgent builds system prompt
      â”‚
      â–¼
LangChain invokes Claude via AWS Bedrock
      â”‚
      â–¼
Claude generates invoice data
      â”‚
      â–¼
MSCParser converts to MSC format
      â”‚
      â–¼
Response: { session_id, message, msc_content, token_count }
      â”‚
      â–¼
Frontend receives response
      â”‚
      â”œâ”€â”€â–º Store session_id
      â”œâ”€â”€â–º Display message in chat
      â”œâ”€â”€â–º Update token counter
      â””â”€â”€â–º Render MSC in SocialCalc
              â”‚
              â–¼
        User sees invoice in spreadsheet
              â”‚
              â–¼
        User opens chat sidebar
              â”‚
              â–¼
        User types: "Add 10% discount"
              â”‚
              â–¼
        aiService.sendChatMessage(sessionId, "Add 10% discount")
              â”‚
              â–¼
        POST /api/chat
              â”‚
              â–¼
        Backend retrieves session history
              â”‚
              â–¼
        Claude processes modification
              â”‚
              â–¼
        Updated MSC content returned
              â”‚
              â–¼
        Spreadsheet updates with new data
```

## Component Hierarchy

```
App.tsx
  â””â”€â”€ Route: /app/invoice-ai
        â””â”€â”€ InvoiceAIPage
              â”œâ”€â”€ IonModal (Initial Prompt)
              â”‚     â”œâ”€â”€ IonInput (prompt input)
              â”‚     â””â”€â”€ IonButton (Generate)
              â”‚
              â”œâ”€â”€ Spreadsheet Container
              â”‚     â””â”€â”€ SocialCalc Renderer
              â”‚           â””â”€â”€ #tableeditor div
              â”‚
              â”œâ”€â”€ ChatSidebar (conditional)
              â”‚     â”œâ”€â”€ IonHeader
              â”‚     â”‚     â”œâ”€â”€ Title
              â”‚     â”‚     â””â”€â”€ Close Button
              â”‚     â”‚
              â”‚     â”œâ”€â”€ Token Counter
              â”‚     â”‚     â”œâ”€â”€ Progress Bar
              â”‚     â”‚     â””â”€â”€ Token Count
              â”‚     â”‚
              â”‚     â”œâ”€â”€ Message List
              â”‚     â”‚     â”œâ”€â”€ User Messages
              â”‚     â”‚     â”œâ”€â”€ AI Messages
              â”‚     â”‚     â””â”€â”€ Loading State
              â”‚     â”‚
              â”‚     â””â”€â”€ Input Container
              â”‚           â”œâ”€â”€ IonTextarea
              â”‚           â””â”€â”€ Send Button
              â”‚
              â””â”€â”€ IonToast (notifications)
```

## State Management

```
InvoiceAIPage State:
â”œâ”€â”€ sessionId: string | null
â”œâ”€â”€ messages: ChatMessage[]
â”œâ”€â”€ isChatVisible: boolean
â”œâ”€â”€ isLoading: boolean
â”œâ”€â”€ tokenCount: number
â”œâ”€â”€ showInitialPromptModal: boolean
â”œâ”€â”€ initialPrompt: string
â”œâ”€â”€ backendStatus: 'checking' | 'online' | 'offline'
â””â”€â”€ toastMessage: string

ChatSidebar Props:
â”œâ”€â”€ messages: ChatMessage[]
â”œâ”€â”€ onSendMessage: (message: string) => void
â”œâ”€â”€ isLoading: boolean
â”œâ”€â”€ isVisible: boolean
â”œâ”€â”€ onClose: () => void
â”œâ”€â”€ tokenCount: number
â””â”€â”€ maxTokens: number
```

## API Response Structure

```json
{
  "session_id": "550e8400-e29b-41d4-a716-446655440000",
  "message": "I've created an invoice for ABC Corp...",
  "msc_content": "socialcalc:version:1.0\ncell:A1:t:Invoice\ncell:A2:t:ABC Corp\n...",
  "token_count": 1234,
  "timestamp": "2025-11-01T12:34:56.789Z"
}
```

## MSC Structure Transformation

```
Backend Returns (savestr only):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ socialcalc:version:1.0          â”‚
â”‚ cell:A1:t:Invoice               â”‚
â”‚ cell:B1:v:1000                  â”‚
â”‚ sheet:c:5:r:10                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
Frontend Wraps in Complete Structure:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ {                               â”‚
â”‚   numsheets: 1,                 â”‚
â”‚   currentid: 'sheet1',          â”‚
â”‚   currentname: 'Invoice',       â”‚
â”‚   sheetArr: {                   â”‚
â”‚     sheet1: {                   â”‚
â”‚       sheetstr: {               â”‚
â”‚         savestr: "<above>"      â”‚
â”‚       },                        â”‚
â”‚       name: 'Invoice',          â”‚
â”‚       hidden: 'no'              â”‚
â”‚     }                           â”‚
â”‚   }                             â”‚
â”‚ }                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    SocialCalc Renders
```

## Error Handling Flow

```
Error Occurs
    â”‚
    â”œâ”€â”€â–º Network Error
    â”‚      â”‚
    â”‚      â”œâ”€â”€â–º Check backend status
    â”‚      â””â”€â”€â–º Show toast: "Backend offline"
    â”‚
    â”œâ”€â”€â–º API Error
    â”‚      â”‚
    â”‚      â”œâ”€â”€â–º Parse error response
    â”‚      â””â”€â”€â–º Show toast: error.message
    â”‚
    â”œâ”€â”€â–º MSC Parse Error
    â”‚      â”‚
    â”‚      â”œâ”€â”€â–º Log to console
    â”‚      â””â”€â”€â–º Show toast: "Error rendering invoice"
    â”‚
    â””â”€â”€â–º Session Error
           â”‚
           â”œâ”€â”€â–º Clear session_id
           â””â”€â”€â–º Show initial prompt modal
```

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Development                  â”‚
â”‚                                      â”‚
â”‚  Frontend: npm run dev (Port 5173)  â”‚
â”‚  Backend: Docker (Port 8000)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Production                   â”‚
â”‚                                      â”‚
â”‚  Frontend: Static Build on Vercel   â”‚
â”‚  Backend: Docker on AWS/GCP          â”‚
â”‚  CORS: Configured for domain         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technology Stack Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend                                 â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  React   â”‚  â”‚  Ionic   â”‚  â”‚TypeScriptâ”‚  â”‚   Vite   â”‚     â”‚
â”‚  â”‚  18.3.0  â”‚  â”‚  8.0.0   â”‚  â”‚  Latest  â”‚  â”‚  5.0.0   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚SocialCalcâ”‚  â”‚  Fetch   â”‚                                   â”‚
â”‚  â”‚  Engine  â”‚  â”‚   API    â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ HTTP/REST
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Backend                                 â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ FastAPI  â”‚  â”‚  Redis   â”‚  â”‚LangChain â”‚  â”‚  Docker  â”‚     â”‚
â”‚  â”‚  Latest  â”‚  â”‚  Latest  â”‚  â”‚  Latest  â”‚  â”‚  Latest  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚   AWS    â”‚  â”‚  Claude  â”‚                                   â”‚
â”‚  â”‚ Bedrock  â”‚  â”‚Sonnet 4  â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Legend**:
- â”Œâ”€â” = Container/Component
- â”‚ = Connection
- â–¼ = Data Flow Direction
- â€¢ = List Item
- [â–ˆ] = UI Element

